; vim: ft=nasm

section .text
global _start
_start:
  nop
.gai_s:
  mov  ax, 0x1
  test ax, 0x1

  mov  cx, 0x1
  test cx, 0x1

  mov  bx, 0x1
  test bx, 0x1

  mov  dx, 0x1
  test dx, 0x1

  mov  sp, 0x1
  test sp, 0x1

  mov  bp, 0x1
  test bp, 0x1

  mov  si, 0x1
  test si, 0x1

  mov  di, 0x1
  test di, 0x1

  mov  ax, 0x2
  test ax, 0x1

  mov  cx, 0x1
  test cx, 0x2

  mov  bx, 0x1
  test bx, 0x3

  mov  dx, 0x0
  test dx, 0x1

  ; edge cases
  mov  cx, 0x0
  test cx, 0xffff

  mov  cx, 0x11aa
  test cx, 0x22ff

  mov  cx, 0x0
  test cx, 0xffee

  mov  cx, 0x0
  test cx, 0xffaa

  mov  cx, 0x0
  test cx, 0xff88

  mov  cx, 0x0
  test cx, 0xff77

  mov  cx, 0x0
  test cx, 0xff22

  mov  dx, 0x0
  test dx, 0xffff

  mov  dx, 0x11aa
  test dx, 0x22ff

  mov  ax, 0x0
  test ax, 0xffff

  mov  ax, 0x0
  test ax, 0xffee

  mov  ax, 0x0
  test ax, 0xffaa

  mov  ax, 0x0
  test ax, 0xff88

  mov  ax, 0x0
  test ax, 0xff77

.gai_e:
  mov  eax,1
  mov  ebx,0
  int 80H
